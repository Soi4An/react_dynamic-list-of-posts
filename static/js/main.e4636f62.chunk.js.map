{"version":3,"sources":["types/ErrMessage.ts","components/PostsList.tsx","components/Loader/Loader.tsx","components/NewCommentForm.tsx","components/CommentsList.tsx","utils/fetchClient.ts","components/PostDetails.tsx","api.tsx","components/UserSelector.tsx","App.tsx","index.tsx"],"names":["ErrMessage","PostsList","posts","selectedPost","onSetSelectedPost","className","map","post","id","title","type","classNames","onClick","newSelectedPost","Loader","NewCommentForm","name","onSetFormName","email","onSetFormEmail","commentText","onSetCommentText","addComment","isLoadingNewComment","onSetErrorInPostDetails","useState","isErrorName","setIsErrorName","isErrorEmail","setIsErrorEmail","isErrorCommentText","setIsErrorCommentText","onSubmit","event","preventDefault","Empty","trimedName","trim","trimedEmail","trimedCommentText","length","htmlFor","placeholder","value","onChange","newName","target","newEmail","newText","disabled","CommentsList","comments","deleteComment","comment","body","href","BASE_URL","request","url","method","data","options","JSON","stringify","headers","fetch","then","response","ok","Error","status","statusText","json","client","PostDetails","isLoadingComments","setIsLoadingComments","setComments","errorMess","setErrorMess","isShowingForm","setIsShowingForm","formName","setFormName","formEmail","setFormEmail","formText","setFormText","isLoadingAddComment","setIsLoadingAddComment","handlerAddComment","useCallback","arrayComments","newComment","Math","max","c","postId","currentComs","catch","AddComment","finally","handlerDeleteComment","commentId","currentComments","filter","DeleteComment","useEffect","GetComments","UserSelector","users","selectedUser","onSetSelectedUser","isShowingUsers","setIsShowingUsers","onBlur","setTimeout","role","user","e","handlerSelectUser","App","setUsers","setSelectedUser","errorOfServer","setErrorOfServer","isLoadingPosts","setIsLoadingPosts","setPosts","setSelectedPost","userId","errMess","GetPosts","GetUsers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e4636f62.chunk.js","sourcesContent":["export enum ErrMessage {\n  Empty = '',\n  GetUsers = 'Unable to get users',\n  GetPosts = 'Unable to get posts',\n  GetComments = 'Unable to get comments',\n  AddComment = 'Unable to add new comment',\n  DeleteComment = 'Unable to delete the comment',\n}\n","import classNames from 'classnames';\nimport { Post } from '../types/Post';\n\ntype Props = {\n  posts: Post[],\n  selectedPost: Post | null,\n  onSetSelectedPost: (post: Post | null) => void,\n};\n\nexport const PostsList: React.FC<Props> = ({\n  posts,\n  selectedPost,\n  onSetSelectedPost,\n}) => {\n  const handlerOpenPost = (newSelectedPost: Post) => {\n    if (selectedPost === newSelectedPost) {\n      onSetSelectedPost(null);\n    } else {\n      onSetSelectedPost(newSelectedPost);\n    }\n  };\n\n  return (\n    <div data-cy=\"PostsList\">\n      <p className=\"title\">Posts:</p>\n\n      <table className=\"table is-fullwidth is-striped is-hoverable is-narrow\">\n        <thead>\n          <tr className=\"has-background-link-light\">\n            <th>#</th>\n            <th>Title</th>\n            <th> </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {posts.map(post => (\n            <tr key={post.id} data-cy=\"Post\">\n              <td data-cy=\"PostId\">{post.id}</td>\n\n              <td data-cy=\"PostTitle\">\n                {post.title}\n              </td>\n\n              <td className=\"has-text-right is-vcentered\">\n                <button\n                  type=\"button\"\n                  data-cy=\"PostButton\"\n                  className={classNames(\n                    'button',\n                    'is-link',\n                    { 'is-light': selectedPost !== post },\n                  )}\n                  onClick={() => handlerOpenPost(post)}\n                >\n                  {selectedPost === post\n                    ? 'Close'\n                    : 'Open'}\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { ErrMessage } from '../types/ErrMessage';\n\ntype Props = {\n  name: string,\n  onSetFormName: (name: string) => void,\n  email: string,\n  onSetFormEmail: (email: string) => void,\n  commentText: string,\n  onSetCommentText: (commentText: string) => void,\n  addComment: (name: string, email: string, text: string) => void,\n  isLoadingNewComment: boolean,\n  onSetErrorInPostDetails: (errorMessage: ErrMessage) => void,\n};\n\nexport const NewCommentForm: React.FC<Props> = ({\n  name,\n  onSetFormName,\n  email,\n  onSetFormEmail,\n  commentText,\n  onSetCommentText,\n  addComment,\n  isLoadingNewComment,\n  onSetErrorInPostDetails,\n}) => {\n  const [isErrorName, setIsErrorName] = useState<boolean>(false);\n  const [isErrorEmail, setIsErrorEmail] = useState<boolean>(false);\n  const [isErrorCommentText, setIsErrorCommentText] = useState<boolean>(false);\n\n  const handlerInputName = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newName = event.target.value;\n\n    onSetFormName(newName);\n    setIsErrorName(false);\n    onSetErrorInPostDetails(ErrMessage.Empty);\n  };\n\n  const handlerInputEmail = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newEmail = event.target.value;\n\n    onSetFormEmail(newEmail);\n    setIsErrorEmail(false);\n    onSetErrorInPostDetails(ErrMessage.Empty);\n  };\n\n  const handlerChangeTextarea = (\n    event: React.ChangeEvent<HTMLTextAreaElement>,\n  ) => {\n    const newText = event.target.value;\n\n    onSetCommentText(newText);\n    setIsErrorCommentText(false);\n    onSetErrorInPostDetails(ErrMessage.Empty);\n  };\n\n  const handlerSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    onSetErrorInPostDetails(ErrMessage.Empty);\n\n    const trimedName = name.trim();\n    const trimedEmail = email.trim();\n    const trimedCommentText = commentText.trim();\n\n    if (trimedName.length < 1\n      || trimedEmail.length < 1\n      || trimedCommentText.length < 1) {\n      if (trimedName.length < 1) {\n        setIsErrorName(true);\n        onSetFormName('');\n      }\n\n      if (trimedEmail.length < 1) {\n        setIsErrorEmail(true);\n        onSetFormEmail('');\n      }\n\n      if (trimedCommentText.length < 1) {\n        setIsErrorCommentText(true);\n        onSetCommentText('');\n      }\n\n      return;\n    }\n\n    addComment(trimedName, trimedEmail, trimedCommentText);\n  };\n\n  const handlerReset = () => {\n    onSetFormName('');\n    onSetFormEmail('');\n    onSetCommentText('');\n\n    setIsErrorName(false);\n    setIsErrorEmail(false);\n    setIsErrorCommentText(false);\n    onSetErrorInPostDetails(ErrMessage.Empty);\n  };\n\n  return (\n    <form\n      data-cy=\"NewCommentForm\"\n      onSubmit={handlerSubmit}\n    >\n      <div className=\"field\" data-cy=\"NameField\">\n        <label className=\"label\" htmlFor=\"comment-author-name\">\n          Author Name\n        </label>\n\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"comment-author-name\"\n            placeholder=\"Name Surname\"\n            className={classNames(\n              'input', { 'is-danger': isErrorName },\n            )}\n            value={name}\n            onChange={handlerInputName}\n          />\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-user\" />\n          </span>\n\n          {isErrorName && (\n            <span\n              className=\"icon is-small is-right has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n        </div>\n\n        {isErrorName && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            Name is required\n          </p>\n        )}\n      </div>\n\n      <div className=\"field\" data-cy=\"EmailField\">\n        <label className=\"label\" htmlFor=\"comment-author-email\">\n          Author Email\n        </label>\n\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            type=\"text\"\n            name=\"email\"\n            id=\"comment-author-email\"\n            placeholder=\"email@test.com\"\n            className={classNames(\n              'input', { 'is-danger': isErrorEmail },\n            )}\n            value={email}\n            onChange={handlerInputEmail}\n          />\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-envelope\" />\n          </span>\n\n          {isErrorEmail && (\n            <span\n              className=\"icon is-small is-right has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n        </div>\n\n        {isErrorEmail && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            Name is required\n          </p>\n        )}\n      </div>\n\n      <div className=\"field\" data-cy=\"BodyField\">\n        <label className=\"label\" htmlFor=\"comment-body\">\n          Comment Text\n        </label>\n\n        <div className=\"control\">\n          <textarea\n            id=\"comment-body\"\n            name=\"body\"\n            placeholder=\"Type comment here\"\n            className={classNames(\n              'textarea', { 'is-danger': isErrorCommentText },\n            )}\n            value={commentText}\n            onChange={handlerChangeTextarea}\n          />\n        </div>\n\n        {isErrorCommentText && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            Enter some text\n          </p>\n        )}\n      </div>\n\n      <div className=\"field is-grouped\">\n        <div className=\"control\">\n          <button\n            type=\"submit\"\n            className={classNames(\n              'button', 'is-link', { 'is-loading': isLoadingNewComment },\n            )}\n          >\n            Add\n          </button>\n        </div>\n\n        <div className=\"control\">\n          <button\n            type=\"button\"\n            className={classNames(\n              'button', 'is-link', 'is-light',\n            )}\n            disabled={isLoadingNewComment}\n            onClick={handlerReset}\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n","import { Comment } from '../types/Comment';\n\ntype Props = {\n  comments: Comment[],\n  deleteComment: (commentId: number) => void,\n};\n\nexport const CommentsList: React.FC<Props> = ({\n  comments, deleteComment,\n}) => {\n  return (\n    <>\n      <p className=\"title is-4\">Comments:</p>\n\n      {comments.map(comment => {\n        const {\n          id, name, email, body,\n        } = comment;\n\n        return (\n          <article key={id} className=\"message is-small\" data-cy=\"Comment\">\n            <div className=\"message-header\">\n              <a href={`mailto:${email}`} data-cy=\"CommentAuthor\">\n                {name}\n              </a>\n              <button\n                data-cy=\"CommentDelete\"\n                type=\"button\"\n                className=\"delete is-small\"\n                aria-label=\"delete\"\n                onClick={() => deleteComment(id)}\n              >\n                delete button\n              </button>\n            </div>\n\n            <div className=\"message-body\" data-cy=\"CommentBody\">\n              {body}\n            </div>\n          </article>\n        );\n      })}\n    </>\n  );\n};\n","import { Comment } from '../types/Comment';\n\nconst BASE_URL = 'https://mate.academy/students-api';\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: Comment | null = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return fetch(BASE_URL + url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Unable to connect from the server: \n        - response status = ${response.status};\n        - status text = ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: Comment) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: Comment) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Loader } from './Loader/Loader';\nimport { NewCommentForm } from './NewCommentForm';\nimport { Post } from '../types/Post';\nimport { Comment } from '../types/Comment';\nimport { ErrMessage } from '../types/ErrMessage';\nimport { CommentsList } from './CommentsList';\nimport { addComment, deleteComment, getComments } from '../api';\n\nfunction getMaxId(arrayComments: Comment[]) {\n  return (arrayComments.length > 0)\n    ? Math.max(...arrayComments.map(c => c.id)) + 1\n    : 1;\n}\n\ntype Props = {\n  selectedPost: Post,\n};\n\nexport const PostDetails: React.FC<Props> = ({\n  selectedPost,\n}) => {\n  const [isLoadingComments, setIsLoadingComments] = useState<boolean>(false);\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [errorMess, setErrorMess] = useState<ErrMessage>(ErrMessage.Empty);\n  const [isShowingForm, setIsShowingForm] = useState<boolean>(false);\n  const [formName, setFormName] = useState<string>('');\n  const [formEmail, setFormEmail] = useState<string>('');\n  const [formText, setFormText] = useState<string>('');\n  const [\n    isLoadingAddComment, setIsLoadingAddComment,\n  ] = useState<boolean>(false);\n\n  const { id, title, body } = selectedPost;\n\n  const handlerOpeningForm = () => {\n    setIsShowingForm(true);\n    setErrorMess(ErrMessage.Empty);\n  };\n\n  const handlerAddComment = useCallback((\n    newName: string,\n    newEmail: string,\n    newText: string,\n  ) => {\n    const newComment = {\n      id: getMaxId(comments),\n      postId: id,\n      name: newName,\n      email: newEmail,\n      body: newText,\n    };\n\n    setIsLoadingAddComment(true);\n\n    addComment(newComment)\n      .then(comment => {\n        setComments(currentComs => {\n          if (currentComs !== null) {\n            return [...currentComs, comment];\n          }\n\n          return [comment];\n        });\n        setFormText('');\n      })\n      .catch(() => {\n        setErrorMess(ErrMessage.AddComment);\n      })\n      .finally(() => {\n        setIsLoadingAddComment(false);\n      });\n  }, [comments]);\n\n  const handlerDeleteComment = useCallback((commentId: number) => {\n    setComments(currentComments => currentComments.filter(comment => {\n      return comment.id !== commentId;\n    }));\n    setErrorMess(ErrMessage.Empty);\n\n    deleteComment(commentId)\n      .catch(() => {\n        setComments(comments);\n        setErrorMess(ErrMessage.DeleteComment);\n      });\n  }, [comments]);\n\n  useEffect(() => {\n    setIsShowingForm(false);\n    setErrorMess(ErrMessage.Empty);\n    setFormName('');\n    setFormEmail('');\n    setFormText('');\n\n    if (selectedPost) {\n      setIsLoadingComments(true);\n\n      getComments(selectedPost.id)\n        .then(setComments)\n        .catch(() => setErrorMess(ErrMessage.GetComments))\n        .finally(() => setIsLoadingComments(false));\n    }\n  }, [selectedPost]);\n\n  return (\n    <div className=\"content\" data-cy=\"PostDetails\">\n      <div className=\"content\" data-cy=\"PostDetails\">\n        <div className=\"block\">\n          <h2 data-cy=\"PostTitle\">\n            {`#${id}: ${title}`}\n          </h2>\n\n          <p data-cy=\"PostBody\">\n            {body}\n          </p>\n        </div>\n\n        {isLoadingComments ? (<Loader />) : (\n          <>\n            <div className=\"block\">\n              {errorMess.length > 1 && (\n                <div className=\"notification is-danger\" data-cy=\"CommentsError\">\n                  {errorMess}\n                </div>\n              )}\n\n              {comments.length < 1 && (\n                <p className=\"title is-4\" data-cy=\"NoCommentsMessage\">\n                  No comments yet\n                </p>\n              )}\n\n              {comments.length > 0 && (\n                <CommentsList\n                  comments={comments}\n                  deleteComment={handlerDeleteComment}\n                />\n              )}\n\n              {isShowingForm ? (\n                <NewCommentForm\n                  name={formName}\n                  onSetFormName={setFormName}\n                  email={formEmail}\n                  onSetFormEmail={setFormEmail}\n                  commentText={formText}\n                  onSetCommentText={setFormText}\n                  addComment={handlerAddComment}\n                  isLoadingNewComment={isLoadingAddComment}\n                  onSetErrorInPostDetails={setErrorMess}\n                />\n              ) : (\n                <button\n                  data-cy=\"WriteCommentButton\"\n                  type=\"button\"\n                  className=\"button is-link\"\n                  onClick={handlerOpeningForm}\n                >\n                  Write a comment\n                </button>\n              )}\n            </div>\n          </>\n        )}\n\n      </div>\n    </div>\n  );\n};\n","import { User } from './types/User';\nimport { Post } from './types/Post';\nimport { client } from './utils/fetchClient';\nimport { Comment } from './types/Comment';\n\nexport const getUsers = () => client.get<User[]>('/users');\n\nexport const getPosts = (userId: number) => {\n  return client.get<Post[]>(`/posts?userId=${userId}`);\n};\n\nexport const getComments = (postId: number) => {\n  return client.get<Comment[]>(`/comments?postId=${postId}`);\n};\n\nexport const addComment = (newComment: Comment) => {\n  return client.post<Comment>('/comments', newComment);\n};\n\nexport const deleteComment = (commentId: number) => {\n  return client.delete(`/comments/${commentId}`);\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { User } from '../types/User';\nimport { Post } from '../types/Post';\n\ntype Props = {\n  users: User[],\n  selectedUser: User | null,\n  onSetSelectedUser: (state: User | null) => void,\n  onSetSelectedPost: (state: Post | null) => void,\n};\n\nexport const UserSelector: React.FC<Props> = ({\n  users,\n  selectedUser,\n  onSetSelectedUser,\n  onSetSelectedPost,\n}) => {\n  const [isShowingUsers, setIsShowingUsers] = useState(false);\n\n  const handlerSelectUser = (e: React.MouseEvent, user: User) => {\n    e.preventDefault();\n\n    setIsShowingUsers(false);\n    onSetSelectedUser(user);\n    onSetSelectedPost(null);\n  };\n\n  return (\n    <div\n      data-cy=\"UserSelector\"\n      className={classNames(\n        'dropdown', { 'is-active': isShowingUsers },\n      )}\n      onBlur={() => setTimeout(() => setIsShowingUsers(false), 100)}\n    >\n      <div className=\"dropdown-trigger\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          aria-haspopup=\"true\"\n          aria-controls=\"dropdown-menu\"\n          onClick={() => setIsShowingUsers(!isShowingUsers)}\n        >\n          {selectedUser === null || selectedUser.name === ''\n            ? (<span>Choose a user</span>)\n            : (<span>{selectedUser.name}</span>)}\n\n          <span className=\"icon is-small\">\n            <i className=\"fas fa-angle-down\" aria-hidden=\"true\" />\n          </span>\n        </button>\n      </div>\n\n      {isShowingUsers && (\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            {users.map(user => (\n              <a\n                key={user.id}\n                href={`#user-${user.id}`}\n                className={classNames(\n                  'dropdown-item',\n                  { 'is-active': selectedUser?.id === user.id },\n                )}\n                onClick={(e) => handlerSelectUser(e, user)}\n              >\n                {user.name}\n              </a>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport 'bulma/bulma.sass';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './App.scss';\n\nimport classNames from 'classnames';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { UserSelector } from './components/UserSelector';\nimport { Loader } from './components/Loader/Loader';\nimport { User } from './types/User';\nimport { Post } from './types/Post';\nimport { ErrMessage } from './types/ErrMessage';\nimport { getPosts, getUsers } from './api';\n\nexport const App: React.FC = () => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [errorMess, setErrorMess] = useState<ErrMessage>(ErrMessage.Empty);\n  const [errorOfServer, setErrorOfServer] = useState<string>('');\n  const [isLoadingPosts, setIsLoadingPosts] = useState<boolean>(false);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [selectedPost, setSelectedPost] = useState<Post | null>(null);\n\n  useEffect(() => {\n    if (selectedUser) {\n      setIsLoadingPosts(true);\n      setErrorMess(ErrMessage.Empty);\n      setErrorOfServer('');\n\n      getPosts(selectedUser.id)\n        .then(setPosts)\n        .catch((errMess) => {\n          setErrorMess(ErrMessage.GetPosts);\n          setErrorOfServer(errMess);\n        })\n        .finally(() => setIsLoadingPosts(false));\n    }\n  }, [selectedUser]);\n\n  useEffect(() => {\n    getUsers()\n      .then(setUsers)\n      .catch((errMess) => {\n        setErrorMess(ErrMessage.GetUsers);\n        setErrorOfServer(errMess);\n      });\n  }, []);\n\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <div className=\"tile is-ancestor\">\n          <div className=\"tile is-parent\">\n            <div className=\"tile is-child box is-success\">\n              <div className=\"block\">\n                <UserSelector\n                  users={users}\n                  selectedUser={selectedUser}\n                  onSetSelectedUser={setSelectedUser}\n                  onSetSelectedPost={setSelectedPost}\n                />\n              </div>\n\n              {isLoadingPosts ? (<Loader />) : (\n                <div className=\"block\" data-cy=\"MainContent\">\n                  {selectedUser === null && (\n                    <p data-cy=\"NoSelectedUser\">\n                      No user selected\n                    </p>\n                  )}\n\n                  {errorMess.length > 1 && (\n                    <div\n                      className=\"notification is-danger\"\n                      data-cy=\"PostsLoadingError\"\n                    >\n                      {`${errorMess}. ${errorOfServer}`}\n                    </div>\n                  )}\n\n                  {selectedUser !== null && posts.length < 1 && (\n                    <div\n                      className=\"notification is-warning\"\n                      data-cy=\"NoPostsYet\"\n                    >\n                      No posts yet\n                    </div>\n                  )}\n\n                  {selectedUser !== null && posts.length > 0 && (\n                    <PostsList\n                      posts={posts}\n                      selectedPost={selectedPost}\n                      onSetSelectedPost={setSelectedPost}\n                    />\n                  )}\n                </div>\n              )}\n\n            </div>\n          </div>\n\n          <div\n            data-cy=\"Sidebar\"\n            className={classNames(\n              'tile',\n              'is-parent',\n              'is-8-desktop',\n              'Sidebar',\n              { 'Sidebar--open': selectedPost },\n            )}\n          >\n            {selectedPost !== null && (\n              <div className=\"tile is-child box is-success \">\n                <PostDetails\n                  selectedPost={selectedPost}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n","import ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}